# Generated by Django 3.1.2 on 2020-10-15 09:14

from django.db import migrations, models
import django.db.models.deletion
import uuid


class Migration(migrations.Migration):

    initial = True

    dependencies = []

    operations = [
        migrations.CreateModel(
            name="Candidate",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("candidate_name", models.CharField(max_length=50)),
                ("empty_candidate", models.BooleanField(default=False)),
            ],
        ),
        migrations.CreateModel(
            name="CandidateTransferable",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("candidate_name", models.CharField(max_length=50)),
            ],
        ),
        migrations.CreateModel(
            name="Usertoken",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("token", models.CharField(max_length=50, unique=True)),
                ("created", models.DateTimeField(auto_now_add=True)),
                ("activated", models.BooleanField(default=False)),
                ("invalidated", models.BooleanField(default=False)),
            ],
        ),
        migrations.CreateModel(
            name="VoteGroupTransferable",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("uuid", models.CharField(max_length=200)),
                ("is_transferred", models.BooleanField(default=False)),
            ],
        ),
        migrations.CreateModel(
            name="Voting",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("voting_name", models.CharField(max_length=50)),
                ("voting_description", models.CharField(blank=True, max_length=200)),
                ("max_votes", models.IntegerField(default=1)),
                ("is_open", models.BooleanField(default=False)),
                ("is_ended", models.BooleanField(default=False)),
                ("treshold", models.FloatField(default=500.0)),
            ],
        ),
        migrations.CreateModel(
            name="VotingTransferable",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("voting_name", models.CharField(max_length=50)),
                ("voting_description", models.CharField(blank=True, max_length=200)),
                ("is_open", models.BooleanField(default=False)),
                ("is_ended", models.BooleanField(default=False)),
                ("round", models.IntegerField(default=1)),
                ("max_votes", models.IntegerField(default=1)),
            ],
        ),
        migrations.CreateModel(
            name="VotingRoundTransferable",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("round", models.IntegerField(default=0)),
                (
                    "voting",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="vaalikoppi.voting",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="VotingResultTransferable",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("candidate_name", models.CharField(max_length=50)),
                ("vote_count", models.FloatField(default=0.0)),
                ("vote_rounds", models.IntegerField(default=1)),
                ("elected", models.BooleanField(default=False)),
                ("dropped", models.BooleanField(default=False)),
                (
                    "voting",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="voting_results",
                        to="vaalikoppi.votingtransferable",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="VotingResult",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("candidate_name", models.CharField(max_length=50)),
                ("vote_count", models.IntegerField(default=0)),
                (
                    "voting",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="voting_results",
                        to="vaalikoppi.voting",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="VoteTransferable",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("uuid", models.CharField(max_length=200)),
                ("preference", models.IntegerField(default=0)),
                (
                    "candidate",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="vaalikoppi.candidatetransferable",
                    ),
                ),
                (
                    "votegroup",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="vaalikoppi.votegrouptransferable",
                    ),
                ),
                (
                    "voting",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="vaalikoppi.votingtransferable",
                    ),
                ),
            ],
        ),
        migrations.AddField(
            model_name="votegrouptransferable",
            name="voting",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                to="vaalikoppi.votingtransferable",
            ),
        ),
        migrations.CreateModel(
            name="VoteBatchTransferable",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("vote_count", models.FloatField(default=0.0)),
                (
                    "candi",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="vaalikoppi.candidatetransferable",
                    ),
                ),
                (
                    "voting_group",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="vaalikoppi.votegrouptransferable",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="Vote",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("uuid", models.CharField(max_length=200)),
                (
                    "candidate",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="vaalikoppi.candidate",
                    ),
                ),
                (
                    "voting",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="vaalikoppi.voting",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="TokenMappingTransferable",
            fields=[
                (
                    "uuid",
                    models.UUIDField(
                        default=uuid.uuid4, primary_key=True, serialize=False
                    ),
                ),
                (
                    "token",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="vaalikoppi.usertoken",
                    ),
                ),
                (
                    "voting",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="vaalikoppi.votingtransferable",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="TokenMapping",
            fields=[
                (
                    "uuid",
                    models.UUIDField(
                        default=uuid.uuid4, primary_key=True, serialize=False
                    ),
                ),
                (
                    "token",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="vaalikoppi.usertoken",
                    ),
                ),
                (
                    "voting",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="vaalikoppi.voting",
                    ),
                ),
            ],
        ),
        migrations.AddField(
            model_name="candidatetransferable",
            name="voting",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="candidates",
                to="vaalikoppi.votingtransferable",
            ),
        ),
        migrations.AddField(
            model_name="candidate",
            name="voting",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="candidates",
                to="vaalikoppi.voting",
            ),
        ),
    ]
